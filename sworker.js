var version="v1603";function getExtension(e){let t=new URL(e).pathname,n=t.lastIndexOf(".");return -1!==n?t.slice(n+1).toLowerCase():""}self.addEventListener("install",async e=>{e.waitUntil((async()=>{let e=await caches.open(version);await e.addAll([])})())}),self.addEventListener("fetch",async e=>{let t=new URL(e.request.url),n=getExtension(t.href);t.href.includes("sworker")||"GET"!==e.request.method||"tza.red"!==t.hostname||["wav","neh3","mp3","txt"].includes(n)||e.respondWith((async()=>{let c=await caches.match(e.request);if(c) return c;let t=await fetch(e.request),n=await caches.open(version);return n.put(e.request,t.clone()),t})())}),self.skipWaiting().then(()=>{console.log("nv",version)}),self.addEventListener("activate",e=>{let t=version;e.waitUntil((async()=>{let e=await caches.keys();for(let n of e)n!==t&&await caches.delete(n)})())});